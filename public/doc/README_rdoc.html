<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>README - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-Cwock+---+the+time-oriented+microblog"><a href="https://cwock.com">Cwock</a> — the time-oriented microblog</a>
    <li><a href="#label-Intro-Promo">Intro-Promo</a>
    <li><a href="#label-Brief+Walkthrough">Brief Walkthrough</a>
    <li><a href="#label-Take+a+generic+Rails+app...">Take a generic Rails app…</a>
    <li><a href="#label-To+dock+or+not+to+dock-3F">To dock or not to dock?</a>
    <li><a href="#label-...and+dock+it-21">…and dock it!</a>
    <li><a href="#label-Ok-2C+now+what+about+Cwock-3F-3F">Ok, now what about Cwock??</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="./README_rdoc.html">README</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page README.rdoc">

<p>&#x1f554; &#x1f560; &#x1f555; &#x1f561; &#x1f556; &#x1f562; &#x1f557;
&#x1f563; &#x1f558; &#x1f564; &#x1f559; &#x1f565; &#x1f55a; &#x1f566;
&#x1f55b; &#x1f567; &#x1f550; &#x1f55c; &#x1f551; &#x1f55d; &#x1f552;
&#x1f55e; &#x1f553; &#x1f55f;</p>

<h1 id="label-Cwock+---+the+time-oriented+microblog"><a href="https://cwock.com">Cwock</a> — the time-oriented microblog<span><a href="#label-Cwock+---+the+time-oriented+microblog">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p><strong>A</strong> <a href="https://codefresh.io">Codefresh</a>
<strong>demo</strong> <strong>/</strong> <strong>Getting</strong>
<strong>Started</strong> <strong>with</strong> <a
href="https://codefresh.io">Codefresh</a> <strong>on</strong> <a
href="http://rubyonrails.org">Rails</a>.</p>

<h2 id="label-Intro-Promo">Intro-Promo<span><a href="#label-Intro-Promo">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>You&#39;re a full-stack developer on Rails. And you&#39;d like the setup of
your servers to be smooth. As smooth as development in Ruby is. <a
href="https://www.docker.com">Docker-smooth</a>. Plus, you probably work in
a team. We&#39;ve got you. Wrap your stack up, afresh.</p>

<p>In case you&#39;re still wondering, working with containers makes you even
full-stack-er. Now however full-stack you are, setting servers up isn&#39;t
your job, still if DevOps write your <a
href="https://docs.docker.com/engine/reference/builder">Dockerfile</a> for
you, you&#39;re probably doing it wrong.</p>

<p>Codefresh will connect to your repository, build docker images when you
push to branches, run tests in its hosted “on-demand” environments, then —
upon success — upload the images to docker hub, and even launch
pre-configured environments on demand. You and your team will have instant
access to and clear visibility of your running and deployable containers,
at codefresh.io and through webhook-based integrations.</p>

<p>We encourage you to learn more about the Docker container technologies and
<a
href="http://blog.carbonfive.com/2015/03/17/docker-rails-docker-compose-together-in-your-development-workflow/">here’s
a nice article</a> you may start with.</p>

<h2 id="label-Brief+Walkthrough">Brief Walkthrough<span><a href="#label-Brief+Walkthrough">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p><a href="https://github.com/codefresh-io/cwock">Fork (or clone+push) our
sample app repo</a> if you don&#39;t have a generic Rails app handy</p>
</li><li>
<p>Register with <a href="https://codefresh.io">Codefresh</a> for FREE with
your GitHub or Bitbucket account</p>
</li><li>
<p>Click on Add Service</p>
</li><li>
<p>Choose your Repository and Branch, click on Next</p>
</li><li>
<p>Choose Rails Dockerfile if you don&#39;t have one in the repo, click on
Next</p>
</li><li>
<p>If you have your Dockerfile in the repo, compare to <a
href="https://github.com/codefresh-io/cwock/blob/master/Dockerfile">our
generic Rails Dockerfile</a>, change the former as appropriate</p>
</li><li>
<p>If you don&#39;t have one in the repo, review the generated Dockerfile,
click on Next</p>
</li><li>
<p>Make sure the (unit) Test script is empty, click on Create</p>
</li><li>
<p>Review the results, click on Close &amp; Build</p>
</li><li>
<p>Click on +&#39;s to see the logs, see that the build succeeds</p>
</li><li>
<p>Click on the cogwheel, review your Settings</p>
</li><li>
<p>Click on Push to Docker Registry, click on the <a
href="http://hub.docker.com">Docker Hub</a> icon, follow the instructions,
click on Save</p>
</li><li>
<p>Click Compositions, enter Staging for the Name, paste the following to the
body on the right:</p>

<pre>web:
  image: codefresh/cwock:master
  links:
    - db
  ports:
    - 8000:3000
    - 3333:3333
  environment:
    - RUBY_DEBUG_PORT=3333
db:
  image: postgres</pre>
</li><li>
<p>Replace &#39;codefresh/cwock:master&#39; with your
docker_hub_user/repo:branch</p>
</li><li>
<p>Remove the <a
href="http://mines.mouldwarp.com/2014/06/pow-and-byebug-staying-in-web-app-dev.html">‘RUBY_DEBUG_PORT`
environment variable</a> if security is an issue</p>
</li><li>
<p>Review your repo&#39;s `config/database.yml` and make sure the settings
above match `adapter:` and `host:` there (`postgresql` and `db`
respectively)</p>
</li><li>
<p>Click on Save, bookmark the URL, click on Launch</p>
</li><li>
<p>Click on +&#39;s to see the logs, see that the launch succeeds</p>
</li><li>
<p>Click on Open App and see your app running at our crafted URL</p>
</li><li>
<p>Go back to Codefresh, click on Services</p>
</li><li>
<p>Click on the cogwheel (Settings) of your app service, click on the
Integration Test</p>
</li><li>
<p>Paste the following to the test body</p>

<pre>bin/rake db:test:prepare
bin/rake spec</pre>
</li><li>
<p>Select Run tests with composition, choose Staging, click on Save</p>
</li><li>
<p>Click on Build (click on Launch dropdown if needed)</p>
</li><li>
<p>Click on +&#39;s to see the logs, see that the build succeeds</p>
</li><li>
<p>Stretch, your project is set up, now every push to your repo/branch will
trigger a build just like this and you will get a notification if it fails</p>
</li><li>
<p>And if it doesn&#39;t fail, you may always go to the URL you bookmarked
above, click on Launch and then, on Open App, to go straight to your fresh
staging server</p>
</li></ul>

<h2 id="label-Take+a+generic+Rails+app...">Take a generic Rails app…<span><a href="#label-Take+a+generic+Rails+app...">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>You&#39;re welcome to clone <a
href="https://github.com/codefresh-io/cwock">github.com/codefresh-io/cwock</a>
(<a href="https://github.com/codefresh-io/cwock">fork it on github</a> or
<a href="https://bitbucket.org/repo/import">import it on BitBucket</a>).</p>

<p>Currently, Codefresh works with either GitHub or Bitbucket, with git being
the supported source control technology, so familiarity with the latter as
well as the repository being hosted at GitHub (or Bitbucket) would be the
only prerequisites to get started.</p>

<p>TBD</p>

<h2 id="label-To+dock+or+not+to+dock-3F">To dock or not to dock?<span><a href="#label-To+dock+or+not+to+dock-3F">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>You can use Codefresh knowing nothing of Docker.</p>

<p>TBD</p>

<h2 id="label-...and+dock+it-21">…and dock it!<span><a href="#label-...and+dock+it-21">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>TBD</p>

<h2 id="label-Ok-2C+now+what+about+Cwock-3F-3F">Ok, now what about Cwock??<span><a href="#label-Ok-2C+now+what+about+Cwock-3F-3F">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>TBD</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

